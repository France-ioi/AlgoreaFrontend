<div class="page-nav">
  <span
      *ngIf="allowWatching && !(isCurrentGroupWatched$ | async)"
      class="round-icon-action-button watch"
      (click)="onStartWatchClick($event)"
  >
    <i class="fa fa-eye"></i>
  </span>
  <span *ngIf="allowWatching && (isCurrentGroupWatched$ | async)" class="round-icon-action-button watched" (click)="stopWatch.emit()">
    <i class="fa fa-eye"></i>
  </span>
  <span *ngIf="!allowFullScreen && allowEditing" class="round-icon-action-button" (click)="edit.emit()">
    <i class="fa fa-pencil-alt"></i>
  </span>
  <span *ngIf="allowFullScreen" class="top-bar-expand">
    <i class="fa fa-expand-arrows-alt"></i>
  </span>
  <!--<span *ngIf="navigationMode === 'nextAndPrev'" class="navigator">
    <i class="fa fa-chevron-left"></i>
    <i class="fa fa-chevron-right"></i>
  </span>
  <span *ngIf="navigationMode === 'parent'" class="top-bar-menu">
    <i class="fa fa-th-large"></i>
  </span>-->
</div>

<p-overlayPanel #op [showCloseIcon]="true" [style]="{width: '450px'}" appendTo="body">
  <ng-template pTemplate *ngIf="state$ | async as state">
    <div *ngIf="state.isFetching">Spinner...</div>
    <div *ngIf="state.isError">Error...</div>
    <div *ngIf="!state.isFetching && state.isReady && state.data?.length === 0">Empty</div>

    <p-table class="alg-table" [value]="state.data" *ngIf="state.isReady && state.data?.length > 0">
      <ng-template pTemplate="header">
        <tr>
          <th i18n>Name</th>
          <th i18n>Type</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        <tr>
          <td>{{ item.name }}</td>
          <td>{{ item.type }}</td>
        </tr>
      </ng-template>
    </p-table>
  </ng-template>
</p-overlayPanel>
