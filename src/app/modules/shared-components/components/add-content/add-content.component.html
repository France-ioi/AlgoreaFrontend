<alg-sub-section icon="sign-in-alt" i18n-label label="Add a content">
  <div class="add-content-wrapper">
    <alg-input
      [parentForm]="addContentForm"
      [hasClearButton]="true"
      (focus)="onNewFocus()"
      (blur)="onBlur()"
      [ngClass]="{'input-light': focused === 'searchExisting'}"
      name="create"
      i18n-placeholder
      placeholder="Enter a title to create a new child"
      i18n-pTooltip
      pTooltip="Enter at least 3 characters"
      tooltipEvent="focus"
      tooltipPosition="bottom"
      [tooltipDisabled]="trimmedInputsValue.create.length >= minInputLength"
    >
    </alg-input>
    <span class="label" i18n>or</span>
    <alg-input
      [parentForm]="addContentForm"
      [hasClearButton]="true"
      (focus)="onExistingFocus()"
      (blur)="onBlur()"
      [ngClass]="{'input-light': focused === 'create'}"
      name="searchExisting"
      i18n-placeholder
      placeholder="Search for existing content"
      i18n-pTooltip
      pTooltip="Enter at least 3 characters"
      tooltipEvent="focus"
      tooltipPosition="bottom"
      [tooltipDisabled]="trimmedInputsValue.searchExisting.length >= minInputLength"
    >
    </alg-input>
  </div>

  <div *ngIf="trimmedInputsValue.create.length >= minInputLength" class="new-content-type">
    <div class="new-content-container">
      <div class="content-type-item-container" (click)="addNewItem('Chapter')">
        <div class="item-image-wrapper">
          <span><i class="fa fa-book"></i></span>
        </div>
        <div class="item-title" i18n>Chapter</div>
        <div class="item-description" i18n>A new folder which can contain any activities.</div>
      </div>
      <div class="content-type-item-container" (click)="addNewItem('Task')">
        <div class="item-image-wrapper">
          <span><i class="fa fa-code"></i></span>
        </div>
        <div class="item-title" i18n>Task</div>
        <div class="item-description" i18n>A new task which users can try to solve.</div>
      </div>
      <div *ngIf="allowSkills" class="content-type-item-container" (click)="addNewItem('Skill')">
        <div class="item-image-wrapper">
          <span><i class="fa fa-graduation-cap"></i></span>
        </div>
        <div class="item-title" i18n>Skill</div>
        <div class="item-description" i18n>A new sub-skill.</div>
      </div>
    </div>
  </div>

  <div *ngIf="trimmedInputsValue.searchExisting.length >= minInputLength">
    <h3 i18n>Select a Content</h3>
    <p-table [value]="itemsFound" [loading]="state === 'loading'">
      <ng-template pTemplate="body" let-item>
        <tr style="background-color: #dfe7f4">
          <td class="type">{{ item.type }}</td>
          <td class="main">{{ item.title }}</td>
          <td>
            <alg-button class="p-small-button p-button-rounded" icon="fa fa-plus" i18n-label label="Add" (click)="addExistingItem(item)"></alg-button>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td [attr.colspan]="1" i18n>No item found</td>
        </tr>
      </ng-template>
    </p-table>

  </div>

</alg-sub-section>
