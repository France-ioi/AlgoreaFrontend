<p *ngIf="state === 'error';else noError" class="error-message">
  <i class="fa fa-exclamation-triangle"></i>
  Error while loading the group you manage
</p>

<ng-template #noError>
  <p-table
    #table
    [value]="data"
    [customSort]="true"
    sortMode="multiple"
    [loading]="state === 'fetching'"
  >
    <ng-template pTemplate="header" let-columns>
      <tr *ngIf="data.length > 0">
        <th>Name</th>
        <th>Type</th>
        <th>can_manage</th>
        <th>can_watch_members</th>
        <th>can_grant_group_access</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-group>
      <tr>
        <td>{{ group.name }}</td>
        <td>{{ group.type }}</td>
        <td>{{ group.canManage }}</td>
        <td>{{ group.canWatchMember}}</td>
        <td>{{ group.canGrantGroupAccess}}</td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage" let-columns>
      <tr>
        <td [attr.colspan]="columns.length">
          <p class="empty-message">You do not manage any group</p>
        </td>
      </tr>
    </ng-template>
  </p-table>
</ng-template>
