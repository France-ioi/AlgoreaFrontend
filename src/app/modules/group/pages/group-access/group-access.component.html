<ng-container *ngIf="group?.currentUserCanGrantGroupAccess; else noAccess">
  <alg-section icon="fa fa-users" i18n-label label="Activity associated to {{ group?.name }}">
    <ng-container *ngIf="itemState$ | async as itemState; else noActivity">
      <div class="spinner" *ngIf="itemState.isFetching">
        <p-progressSpinner [style]="{width: '3.3333rem', height: '3.3333rem'}"></p-progressSpinner>
      </div>

      <div class="error alg-error-text" *ngIf="itemState.isError" i18n>
        Error while loading the root activity.
      </div>

      <ng-container *ngIf="itemState.isReady">
        <div class="item">
          <i class="icon fa fa-folder"></i>
          <strong i18n>Root activity: {{ itemState.data.string.title }}</strong>
        </div>
      </ng-container>
    </ng-container>

    <ng-template #noActivity>
      <div i18n>This group has no activity.</div>
    </ng-template>
  </alg-section>
</ng-container>

<ng-template #noAccess>
  <p class="error alg-error-text" i18n>You are not allowed to manage permissions of this group.</p>
</ng-template>
