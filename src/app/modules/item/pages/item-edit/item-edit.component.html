<ng-container *ngIf="itemLoadingState$ | async as state">

  <p-progressSpinner *ngIf="state.tag === 'fetching'"></p-progressSpinner>

  <p *ngIf="state.tag === 'error'">Error while loading the item</p>

  <div *ngIf="state.tag === 'ready' && (itemData$ | async) as itemData" style="margin: 1rem 0 0.5rem 0">
    <form [formGroup]="itemForm">

      <div class="header">
        <alg-input [parentForm]="itemForm" name="title" size="large" [isDark]='false'></alg-input>
      </div>

      <nav mat-tab-nav-bar>
        <a mat-tab-link
           [routerLink]="'./'"
           routerLinkActive #rla1="routerLinkActive"
           [routerLinkActiveOptions]="{exact: true}"
           [active]="rla1.isActive">
          Content
        </a>
      </nav>

      <div class="bg-white">
        <alg-item-edit-content
          *ngIf="rla1.isActive"
          [parentForm]="itemForm"
          [itemData]="itemData"
          (change)="updateForm($event)"
        >
        </alg-item-edit-content>
      </div>

    </form>
  </div>

</ng-container>
