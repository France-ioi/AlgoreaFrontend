<div class="task-header-container" *ngIf="itemData">
  <div class="task-header" *ngIf="content$ | async as content">
    <alg-score-ring
      *ngIf="itemData.item.type !== 'Skill' && content.score"
      [bestScore]="content.score.bestScore"
      [currentScore]="content.score.currentScore"
      [isValidated]="content.score.isValidated"
      [diameter]="70"
    ></alg-score-ring>
    <alg-skill-progress
      *ngIf="itemData.item.type === 'Skill' && content.score"
      [bestScore]="content.score.bestScore"
      [currentScore]="content.score.currentScore"
    ></alg-skill-progress>
    <div class="task-title">
      <p>{{itemData.item.string.title}}</p>
      <span *ngIf="itemData.item.string.subtitle">{{itemData.item.string.subtitle}}</span>
    </div>
    <alg-page-navigator
      *ngIf="navigationNeighbors$ | async as navigationNeighbors"
      [allowEditing]="itemData.item.permissions.canEdit !== 'none'"
      [allowFullScreen]="false"
      [navigationMode]="{
        parent: !!navigationNeighbors?.isReady && !!navigationNeighbors?.data?.parent,
        left: !!navigationNeighbors?.isReady && !!navigationNeighbors?.data?.previous,
        right: !!navigationNeighbors?.isReady && !!navigationNeighbors?.data?.next
      }"
      (parent)="navigationNeighbors?.data?.parent?.navigateTo()"
      (left)="navigationNeighbors?.data?.previous?.navigateTo()"
      (right)="navigationNeighbors?.data?.next?.navigateTo()"
      (edit)="onEditButtonClicked()"
    ></alg-page-navigator>
  </div>
</div>
