<div class="wrapper" [ngClass]="{ 'only-icon-mode': onlyIcon }" *ngIf="watchedGroup$ | async as watchedGroup">
  <div class="left-section alg-flex-1">
    <i
      class="left-icon alg-secondary-color ph-duotone ph-eye"
      [pTooltip]="'observationModeTooltip'"
      [tooltipDisabled]="!showTooltip"
      [positionLeft]="5"
      tooltipStyleClass="alg-tooltip observation-mode"
    ></i>
    <ng-template #observationModeTooltip>
      <span *ngIf="watchedGroup.route.isUser; else groupName" i18n>
        Only the content visible by the user you are observing ({{ watchedGroup.name }}) is shown.
      </span>
      <ng-template #groupName>
        Only the content visible by the group you are observing ({{ watchedGroup.name }}) is shown.
      </ng-template>
    </ng-template>
    <span class="title" *ngIf="!onlyIcon">
      <ng-container *ngIf="caption; else watchedGroupName">
        <span class="alg-secondary-color">{{ caption }}</span>
      </ng-container>
      <ng-template #watchedGroupName>
        <ng-container *ngIf="watchedGroup.name">
          <a
            class="link alg-link hover-underline alg-secondary-color"
            [routerLink]="watchedGroup.route | groupLink"
          >
            {{ caption || watchedGroup.name }}
          </a>
        </ng-container>
      </ng-template>
    </span>
  </div>
  <button pButton type="button" icon="ph ph-x" class="alg-button-icon secondary-color no-bg" (click)="onCancelClick()"></button>
</div>
