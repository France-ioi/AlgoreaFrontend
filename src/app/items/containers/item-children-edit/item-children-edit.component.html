@if (state$ | async; as state) {
  @if (itemData) {
    @if (state.isReady) {
      @if (itemData.item.type === 'Skill') {
        <h2 class="alg-h2 alg-text-normal alg-base-title-primary-space" i18n>Sub-skills</h2>
        <alg-item-children-edit-list
          type="skill"
          [data]="skills"
          [itemData]="itemData"
          (childrenChanges)="onDataChange($event, 'skill')"
        ></alg-item-children-edit-list>

        <h2 class="alg-h2 alg-text-normal alg-base-title-space" i18n>
          Activities to learn or reinforce this skill
        </h2>
        <alg-item-children-edit-list
          [data]="activities"
          [itemData]="itemData"
          (childrenChanges)="onDataChange($event)"
        ></alg-item-children-edit-list>
      } @else {
        <alg-item-children-edit-list
          [data]="activities"
          [itemData]="itemData"
          (childrenChanges)="onDataChange($event)"
        ></alg-item-children-edit-list>
      }
    }
    @if (state.isFetching) {
      <alg-loading></alg-loading>
    }
    @if (state.isError) {
      <alg-error
        class="dark"
        i18n-message message="Error while loading the children items"
        [showRefreshButton]="true"
        (refresh)="reloadData()"
      ></alg-error>
    }
  }
}

